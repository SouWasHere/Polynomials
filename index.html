<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Numerical Methods Calculator</title>

<link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>

<style>
:root {
  --card-bg: rgba(20,20,20,0.95);
  --card-border: #27272a;
  --text-main: #f4f4f5;
  --text-sec: #a1a1aa;
  --input-bg: #1c1c1f;
  --input-border: #2e2e33;
  --result-bg: #18181b;
  --result-text: #ffffff;
}

.page { display: none; }
.page.active-page { display: block; animation: fadeInPage 0.3s ease; }

@keyframes fadeInPage {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body class="min-h-screen flex flex-col items-center px-5 py-10 font-[League Spartan] text-white bg-black"
style="background-image:url('bg.gif'); background-size:cover; background-position:center;">

<header class="w-full max-w-3xl text-center mb-6">
<h1 class="text-4xl md:text-5xl font-bold tracking-wide text-white">
Numerical Methods
</h1>
</header>

<nav class="w-full max-w-3xl flex flex-wrap justify-center gap-3 mb-6">
<button class="tab-btn bg-zinc-900 border border-zinc-500 px-5 py-3 rounded-xl font-semibold text-sm"
onclick="openPage('page-basic', this)">Basic Operations</button>

<button class="tab-btn bg-black border border-zinc-700 px-5 py-3 rounded-xl font-semibold text-sm"
onclick="openPage('page-error', this)">Error Analysis</button>

<button class="tab-btn bg-black border border-zinc-700 px-5 py-3 rounded-xl font-semibold text-sm"
onclick="openPage('page-poly', this)">Polynomials</button>
</nav>

<main class="w-full max-w-3xl space-y-6">

<section id="page-basic" class="page active-page">
<div class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-2xl p-6">

<h2 class="text-lg font-semibold mb-5">I. Basic Operations</h2>

<div class="grid grid-cols-[2fr,1fr,2fr] gap-3 mb-4">
<input type="number" id="num1" placeholder="First number"
class="w-full px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<select id="operator"
class="w-full px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">
<option value="+">+</option>
<option value="-">-</option>
<option value="*">ร</option>
<option value="/">รท</option>
</select>

<input type="number" id="num2" placeholder="Second number"
class="w-full px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">
</div>

<div class="grid gap-4 md:grid-cols-2">
<div>
<label class="text-sm text-[var(--text-sec)]">Decimal Places (k)</label>
<input type="number" id="sig" value="4" min="0"
class="w-full px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">
</div>

<div>
<label class="text-sm text-[var(--text-sec)]">Method</label>
<select id="method"
class="w-full px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">
<option value="chop">Chopping</option>
<option value="round">Rounding</option>
</select>
</div>
</div>

<button onclick="compute()"
class="mt-4 w-full py-3 rounded-lg bg-black border border-zinc-700 hover:bg-zinc-900">
Compute
</button>

<div id="basicResult" class="mt-4 hidden bg-[var(--result-bg)] p-3 rounded-lg"></div>
</div>
</section>

<section id="page-error" class="page">
<div class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-2xl p-6">
<h2 class="text-lg font-semibold mb-5">II. Error Analysis</h2>

<input type="number" id="trueVal" placeholder="True value"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<input type="number" id="approxVal" placeholder="Approximation"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<button onclick="errorAnalysis()"
class="w-full py-3 rounded-lg bg-black border border-zinc-700 hover:bg-zinc-900">
Compute Errors
</button>

<div id="errorResult" class="mt-4 hidden bg-[var(--result-bg)] p-3 rounded-lg"></div>
</div>
</section>

<section id="page-poly" class="page">
<div class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-2xl p-6">
<h2 class="text-lg font-semibold mb-5">III. Polynomial Evaluation</h2>

<input type="text" id="poly" placeholder="2*x**3 + 3*x**2 - 4*x + 1"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<input type="number" id="xval" placeholder="Value of x"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<label class="text-sm text-[var(--text-sec)]">Decimal Places</label>
<input type="number" id="polySig" value="4" min="0"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">

<select id="polyMethod"
class="w-full mb-3 px-3 py-2 rounded-lg bg-[var(--input-bg)] border border-[var(--input-border)]">
<option value="chop">Chopping</option>
<option value="round">Rounding</option>
</select>

<button onclick="evaluatePoly()"
class="w-full py-3 rounded-lg bg-black border border-zinc-700 hover:bg-zinc-900">
Evaluate
</button>

<div id="polyResult" class="mt-4 hidden bg-[var(--result-bg)] p-3 rounded-lg"></div>
</div>
</section>

</main>

<script>

function openPage(pageId, btn) {
document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
document.getElementById(pageId).classList.add('active-page');

document.querySelectorAll('.tab-btn').forEach(b => {
b.classList.remove('bg-zinc-900','border-zinc-500');
b.classList.add('bg-black','border-zinc-700');
});

btn.classList.remove('bg-black','border-zinc-700');
btn.classList.add('bg-zinc-900','border-zinc-500');
}

function chop(num, k) {
const factor = Math.pow(10, k);
return Math.trunc(num * factor) / factor;
}

function roundNum(num, k) {
const factor = Math.pow(10, k);
return Math.round(num * factor) / factor;
}

function showResult(id, content) {
const el = document.getElementById(id);
el.innerHTML = content;
el.classList.remove("hidden");
}

function compute() {
const a = parseFloat(num1.value);
const b = parseFloat(num2.value);
const op = operator.value;
const k = parseInt(sig.value);
const method = method.value;

if (isNaN(a) || isNaN(b)) return showResult("basicResult","Enter valid numbers.");

let exact;
if (op==="+") exact=a+b;
if (op==="-") exact=a-b;
if (op==="*") exact=a*b;
if (op==="/") {
if (b===0) return showResult("basicResult","Cannot divide by zero.");
exact=a/b;
}

const approx = method==="chop" ? chop(exact,k) : roundNum(exact,k);

showResult("basicResult",
`Exact: ${exact}<br>Approximation: ${approx.toFixed(k)}`);
}

function errorAnalysis() {
const p = parseFloat(trueVal.value);
const pstar = parseFloat(approxVal.value);

if (isNaN(p)||isNaN(pstar)) return showResult("errorResult","Enter valid numbers.");

const absErr = Math.abs(p-pstar);
const relErr = p!==0 ? absErr/Math.abs(p) : 0;

let decimals = relErr===0 ? "Exact Match"
: Math.max(0, Math.floor(-Math.log10(relErr)));

showResult("errorResult",
`Absolute Error: ${absErr}<br>
Relative Error: ${relErr}<br>
Correct Decimal Places: ${decimals}`);
}

function evaluatePoly() {
const poly = document.getElementById("poly").value;
const x = parseFloat(xval.value);
const k = parseInt(polySig.value);
const method = polyMethod.value;

if (!poly || isNaN(x)) return showResult("polyResult","Invalid input.");

try {
const exact = eval(poly.replace(/x/g,"("+x+")"));
const approx = method==="chop"?chop(exact,k):roundNum(exact,k);

showResult("polyResult",
`Exact: ${exact}<br>Approximation: ${approx.toFixed(k)}`);
} catch {
showResult("polyResult","Invalid polynomial format.");
}
}

</script>
</body>
</html>
